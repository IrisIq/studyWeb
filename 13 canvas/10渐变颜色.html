<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <canvas id="canvasId" width="1000" height="1000"></canvas>
    </div>
  </body>

  <script>
    // 获取画布
    const [c1] = document.querySelectorAll('#canvasId')
    // 获取画笔
    const ctx = c1.getContext('2d')

    // 创建线性渐变
    // let lineObj = ctx.createLinearGradient(0, 300, 600, 300)
    // lineObj.addColorStop(0, 'pink')
    // lineObj.addColorStop(0.5, 'orange')

    // lineObj.addColorStop(1, 'black')

    // ctx.fillStyle = lineObj
    // ctx.fillRect(0, 300, 600, 300)
    let index = 0

    function ani() {
      if (index > 1) {
        index = 0
      }
      index += 0.005
      ctx.clearRect(0, 0, 1000, 1000)
      let lineObj = ctx.createLinearGradient(0, 300, 600, 300)
      lineObj.addColorStop(0, 'pink')
      lineObj.addColorStop(index, 'orange')

      lineObj.addColorStop(1, 'black')

      ctx.fillStyle = lineObj
      ctx.fillRect(0, 300, 600, 300)
      requestAnimationFrame(ani)
    }
    requestAnimationFrame(ani)
  </script>
</html>
